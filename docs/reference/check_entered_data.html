<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Prepare Data for Paramedic — check_entered_data • paramedic</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Prepare Data for Paramedic — check_entered_data"><meta property="og:description" content="Functions in paramedic expect data (W, V, and X) in matrix, data.frame
, or tibble form, with the first column being sample identifiers. 
Sample identifiers must be the same between W, V, and X and the column must 
have the same name in W and V. This function checks the incoming data, 
transforms it into the data list that is passed to the Stan functions, and 
computes any initial values of model parameters."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">paramedic</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.3.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/hierarchical_model_specification.html">Hierarchical model specification in `paramedic`</a>
    </li>
    <li>
      <a href="../articles/introduction_to_paramedic.html">Introduction to `paramedic`</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/statdivlab/paramedic/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Prepare Data for Paramedic</h1>
    <small class="dont-index">Source: <a href="https://github.com/statdivlab/paramedic/blob/HEAD/R/prep_data.R" class="external-link"><code>R/prep_data.R</code></a></small>
    <div class="hidden name"><code>check_entered_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Functions in <code>paramedic</code> expect data (W, V, and X) in matrix, data.frame
, or tibble form, with the first column being sample identifiers. 
Sample identifiers must be the same between W, V, and X and the column must 
have the same name in W and V. This function checks the incoming data, 
transforms it into the data list that is passed to the Stan functions, and 
computes any initial values of model parameters.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">check_entered_data</span><span class="op">(</span></span>
<span>  <span class="va">W</span>,</span>
<span>  <span class="va">V</span>,</span>
<span>  <span class="va">X</span>,</span>
<span>  <span class="va">k</span>,</span>
<span>  <span class="va">inits_lst</span>,</span>
<span>  <span class="va">sigma_beta</span>,</span>
<span>  <span class="va">sigma_Sigma</span>,</span>
<span>  <span class="va">alpha_sigma</span>,</span>
<span>  <span class="va">kappa_sigma</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">make_paramedic_tibbles</span><span class="op">(</span></span>
<span>  <span class="va">W</span>,</span>
<span>  <span class="va">V</span>,</span>
<span>  <span class="va">X</span>,</span>
<span>  <span class="va">k</span>,</span>
<span>  <span class="va">inits_lst</span>,</span>
<span>  <span class="va">sigma_beta</span>,</span>
<span>  <span class="va">sigma_Sigma</span>,</span>
<span>  <span class="va">alpha_sigma</span>,</span>
<span>  <span class="va">kappa_sigma</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">make_paramedic_stan_data</span><span class="op">(</span></span>
<span>  <span class="va">k</span>,</span>
<span>  <span class="va">W_mat</span>,</span>
<span>  <span class="va">V_mat</span>,</span>
<span>  <span class="va">X_mat</span>,</span>
<span>  <span class="va">inits_lst</span>,</span>
<span>  <span class="va">sigma_beta</span>,</span>
<span>  <span class="va">sigma_Sigma</span>,</span>
<span>  <span class="va">alpha_sigma</span>,</span>
<span>  <span class="va">kappa_sigma</span>,</span>
<span>  <span class="va">alpha_phi</span>,</span>
<span>  <span class="va">beta_phi</span>,</span>
<span>  <span class="va">n_chains</span>,</span>
<span>  centered <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>W</dt>
<dd><p>The relative abundance data, e.g., from broad range 16S sequencing 
with "universal" primers. Expects data (e.g., matrix, data.frame, tibble) 
with sample identifiers in the first column. Sample identifiers must be the 
same between W and V, and the column must have the same name in W and V.</p></dd>


<dt>V</dt>
<dd><p>The absolute abundance data, e.g., from taxon-specific absolute 
primers. Expects data (e.g., matrix, data.frame, tibble) with sample 
identifiers in the first column. Sample identifiers must be the same 
between W and V, and the column must have the same name in W and V.</p></dd>


<dt>X</dt>
<dd><p>The covariate data. Expects data (e.g., matrix, data.frame, 
tibble) with sample identifiers in the first column. Sample identifiers 
must be the same between W, V, and X, and the column must have the same 
name in W, V, and X. If X only consists of the subject identifiers, then
 no covariates are used.</p></dd>


<dt>k</dt>
<dd><p>the number of batches (0 if a single batch)</p></dd>


<dt>inits_lst</dt>
<dd><p>An optional list of initial values of the parameters. 
Must be a named list; see <code><a href="https://mc-stan.org/rstan/reference/stan.html" class="external-link">stan</a></code>.</p></dd>


<dt>sigma_beta</dt>
<dd><p>Hyperparameter specifying the prior variance on 
\(\beta_0\). Defaults to \(\sqrt{50}\).</p></dd>


<dt>sigma_Sigma</dt>
<dd><p>Hyperparameter specifying the prior variance on 
\(\Sigma\). Defaults to \(\sqrt{50}\).</p></dd>


<dt>alpha_sigma</dt>
<dd><p>Hyperparameter specifying the shape parameter of the 
prior distribution on \(\sigma_e\). Defaults to 2.</p></dd>


<dt>kappa_sigma</dt>
<dd><p>Hyperparameter specifying the scale parameter of the
prior distribution on \(\sigma_e\). Defaults to 1.</p></dd>


<dt>W_mat</dt>
<dd><p>the pre-processed matrix W</p></dd>


<dt>V_mat</dt>
<dd><p>the pre-processed matrix V</p></dd>


<dt>X_mat</dt>
<dd><p>the pre-processed matrix X</p></dd>


<dt>alpha_phi</dt>
<dd><p>Hyperparameter specifying the shape parameter of the 
prior distribution on \(phi\) (the optional Negative Binomial 
dispersion parameter). Defaults to 0 (in which case a Poisson distribution
on V is used).</p></dd>


<dt>beta_phi</dt>
<dd><p>Hyperparameter specifying the scale parameter of the 
prior distribution on \(phi\) (the optional Negative Binomial 
dispersion parameter). Defaults to 0 (in which case a Poisson distribution
on V is used).</p></dd>


<dt>n_chains</dt>
<dd><p>the number of chains to run</p></dd>


<dt>centered</dt>
<dd><p>whether or not to use the centered parameterization of the 
stan algorithm. Defaults to <code>FALSE</code>.</p></dd>

</dl></div>
    <div id="functions">
    <h2>Functions</h2>
    
<ul><li><p><code>make_paramedic_tibbles</code>: Make tibbles from entered data</p></li>
<li><p><code>make_paramedic_stan_data</code>: Make data and initial values lists to
pass to stan</p></li>
</ul></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Brian D. Williamson, James Hughes, Amy Willis.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

